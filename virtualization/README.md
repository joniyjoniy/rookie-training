# 仮想化技術入門

仮想化と一言で表しても，その種類は様々です．  
仮想化技術によって，サーバのリソースを抽象化して論理的に別のものとして扱うことができます．  
ここでは，現在では必須となった仮想化技術について，種類と歴史を追いながら学習してみましょう．  

# メモ

- [x86仮想マシンことはじめ](http://gihyo.jp/dev/serial/01/vm_work/0001)参照
  - システム仮想マシン
    - 完全仮想化
      - 実機と同一のOSをカーネルをそのまま使用する方式, 実装が複雑になりがち
      - VMware, Hyper-V, KVM, Xen
    - 準仮想化
      - 仮想マシン上でOSが実行されることを前提に，仮想マシンソフトウェアが
        上位に提供する環境にあわせたOSカーネルを用意する方式
        仮想マシンソフトウェアによるオーバーヘッドが少ない
    - もともとx86システムのアーキテクチャは仮想化に適していない
    - オープンソースの仮想マシン技術のXenが準仮想化手法で高い性能を示していたこともあって  
      準仮想化が注目されていた
    - 最近はx86プロセッサやチップセットが提供する仮想化機能の性能が向上している
    - 性能目的のためにOSカーネルを別に用意するメリットは薄れている
    - 準仮想化に近い性能を出せるようになってきたこともあり，現在では
      x86システムでは完全仮想化が主流
  - プロセス仮想マシン

- [Linux KVMで知る仮想マシンの概要](http://gihyo.jp/dev/serial/01/vm_work/0002)
  - 2011/02/14記載
  - x86システム仮想マシンの中でも特に注目されているLinux KVMを中心にx86仮想マシンの実装を見ていく
  - コンピュータを構成する3大要素
    - CPU
      - プログラムを実行するための回路
    - システムメモリ
      - CPUが直接データの読み書きをできるもの
    - I/Oデバイス
  - Linux KVMとは
    - Kernel-based Virtual Machineの略
    - Linux自体を仮想マシンの実行基盤として機能させるソフトウェア
    - Red Hatが2008年にKVM開発の中心であるQumranetを買収して勢いがあるので
    - 動作要件
      - 仮想化支援機能(Intel VT もしくはAMD-V)を搭載したプロセッサ
      - プロセッサの仮想化支援機能に対応したBIOSを持つマザーボード
      - ホストOS,ゲストOSを実行するために十分な容量のシステムメモリ
      - 64bit対応を強く推奨
      - Intel EPT/AMD RVI搭載プロセッサの利用を強く推奨
    - Linux KVMを構成するソフトウェア
      - Linux KVMカーネルモジュール
        - ユーザモードのプロセス要求に応じて仮想マシンにメモリを割り当て実行する機能
        - プロセッサの仮想化支援機能を使用して仮想マシンを作成
        - 仮想マシン環境上に作成した仮想CPUでプログラムを実行
        - これが3大要素のCPUに相当すると考えられる
      - qemu-kvm
        - x86システムを構成するI/Oデバイスのエミュレータ
        - 物理マシンが持っているシステムメモリから，仮想マシンが必要とする容量のメモリを  
          確保する役割
        - 3大要素のうちシステムメモリ，I/Oデバイスに相当する
      - QEMUとは
        - qemu-kvmはLinux KVM が開発される前から存在するQEMUがベース
        - QEMUは多種類のシステムの仮想マシンとして利用できる
        - QEMUではCPUをソフトウェアCPUで再現していた
        - 現在ではCPUに仮想化支援機能が搭載されているものが多く，  
          qemu-kvmではそれを利用することで高速化している

- 仮想化支援技術
  - [第6章 仮想化支援技術 最新キーワード](http://www.plathome.co.jp/solution/virtualserver/introduction/06.html)

# 参考資料

- [仮想化](https://ja.wikipedia.org/wiki/%E4%BB%AE%E6%83%B3%E5%8C%96#cite_note-1)
- [仮想化とは何か](http://www.vsolution.jp/vmware/virtualization_guide/01/)
- [サーバ仮想化の種類とその歴史](https://enterprisezine.jp/iti/detail/362)
- [「仮想化」を理解するための誕生の歴史](http://blogs.itmedia.co.jp/itsolutionjuku/2014/06/post-9f0b.html)
- [【図解】これ1枚でわかる仮想化の歴史](http://blogs.itmedia.co.jp/itsolutionjuku/2015/06/post_90.html)
- [x86仮想マシンことはじめ](http://gihyo.jp/dev/serial/01/vm_work/0001)
- [Linux KVMで知る仮想マシンの概要](http://gihyo.jp/dev/serial/01/vm_work/0002)
